<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>Supermarket App</title>
  <style>
    body { background: radial-gradient(1200px 500px at 80% -10%, #e9f5ff 0%, rgba(233,245,255,0) 60%),
                     radial-gradient(1000px 500px at -20% 10%, #f4f9f0 0%, rgba(244,249,240,0) 60%), #f8fafc; }
    .navbar { box-shadow: 0 2px 6px rgba(0,0,0,.05); }
    .hero { padding: 80px 0; }
    .hero-title { font-size: 3rem; font-weight: 700; letter-spacing: .4px; }
    .hero-subtitle { color: #5c6770; max-width: 720px; }
    .hero-card { background: #fff; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,.06); padding: 32px; }
    .feature-card { background: #fff; border-radius: 14px; box-shadow: 0 8px 24px rgba(0,0,0,.05); padding: 22px; height: 100%; }
    .feature-emoji { font-size: 28px; }
    .section-title { font-size: 1.15rem; text-transform: uppercase; letter-spacing: .06em; color: #6c757d; }
  </style>
</head>
<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
      <div class="container">
        <a class="navbar-brand" href="/">Supermarket App</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav ms-auto">
            <% if (!user) { %>
              <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
              <li class="nav-item"><a class="nav-link" href="/login">Login</a></li>
            <% } else if (user.role === 'admin') { %>
              <li class="nav-item"><a class="nav-link" href="/inventory">Inventory</a></li>
              <li class="nav-item"><a class="nav-link" href="/admin/users">Users</a></li>
              <li class="nav-item"><a class="nav-link" href="/admin/users/new">Add User</a></li>
              <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
            <% } else { %>
              <li class="nav-item"><a class="nav-link" href="/shopping">Shop</a></li>
              <li class="nav-item"><a class="nav-link" href="/cart">Cart</a></li>
              <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
            <% } %>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container hero">
      <div class="row align-items-center g-4">
        <div class="col-lg-7">
          <div class="hero-card">
            <h1 class="hero-title">Fresh Groceries. Better Prices.</h1>
            <p class="hero-subtitle mt-2">
              Shop everyday essentials and fresh produce. Simple, fast, and secure â€” whether youâ€™re managing inventory as an admin or filling your cart as a shopper.
            </p>
            <% if (!user) { %>
              <div class="d-flex gap-2 mt-3">
                <a href="/login" class="btn btn-primary btn-lg">Start Shopping</a>
                <a href="/register" class="btn btn-outline-secondary btn-lg">Create Account</a>
              </div>
            <% } else if (user.role === 'admin') { %>
              <div class="d-flex gap-2 mt-3 flex-wrap">
                <a href="/inventory" class="btn btn-primary">Manage Products</a>
                <a href="/admin/users" class="btn btn-outline-primary">Manage Users</a>
                <a href="/admin/users/new" class="btn btn-outline-secondary">Add User</a>
              </div>
              <div class="mt-2 text-muted">Welcome back, <strong><%= user.username %></strong> (admin)</div>
            <% } else { %>
              <div class="d-flex gap-2 mt-3 flex-wrap">
                <a href="/shopping" class="btn btn-primary">Go to Store</a>
                <a href="/cart" class="btn btn-outline-secondary">View Cart</a>
              </div>
              <div class="mt-2 text-muted">Welcome back, <strong><%= user.username %></strong></div>
            <% } %>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="text-center">
            <img src="/images/bananas.png" class="img-fluid" style="max-height: 260px;" alt="Groceries">
          </div>
        </div>
      </div>

      <div class="mt-5">
        <div class="section-title mb-3">Why Shop With Us</div>
        <div class="row g-3">
          <div class="col-md-4">
            <div class="feature-card h-100">
              <div class="feature-emoji">ðŸ›’</div>
              <h5 class="mt-2 mb-1">Easy Shopping</h5>
              <div class="text-muted small">Browse products and add to cart in seconds.</div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card h-100">
              <div class="feature-emoji">âš¡</div>
              <h5 class="mt-2 mb-1">Fast Checkout</h5>
              <div class="text-muted small">Smooth flows to keep you moving.</div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card h-100">
              <div class="feature-emoji">ðŸ”’</div>
              <h5 class="mt-2 mb-1">Secure Accounts</h5>
              <div class="text-muted small">Your data and sessions are kept safe.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <style>
      :root { --app-footer-height: 68px; }
      html, body { height: 100%; }
      body { min-height: 100vh; padding-bottom: calc(var(--app-footer-height) + 28px); }
      .app-footer { background-color: #0b2131; color: #e6edf3; }
      .app-footer a { color: #e6edf3; text-decoration: none; }
      .app-footer a:hover { text-decoration: underline; }
      .app-footer-fixed { position: fixed; left: 0; right: 0; bottom: 0; z-index: 1030; }
      .app-footer-gradient { height: 4px; background: linear-gradient(90deg, var(--bs-primary, #0d6efd), var(--bs-info, #0dcaf0), var(--bs-success, #198754), var(--bs-warning, #ffc107), var(--bs-danger, #dc3545)); }
      .app-footer-inner { font-size: .95rem; }
    </style>
    <footer class="app-footer-fixed">
      <div class="app-footer-gradient"></div>
      <div class="app-footer py-3">
        <div class="container text-center app-footer-inner">
          <span>&copy; <script>document.write(new Date().getFullYear());</script> <strong>Supermarket App</strong>. All Rights Reserved.</span>
        </div>
      </div>
    </footer>
</body>
</html>
